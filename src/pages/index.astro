---
import { getCollection } from 'astro:content';
import PerformanceMonitor from '../components/PerformanceMonitor.astro';
import AccessibilityEnhancements from '../components/AccessibilityEnhancements.astro';

// Get featured content
const questions = await getCollection('questions');
const featuredQuestions = questions.slice(0, 6); // Show first 6 for demo
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- PWA Manifest -->
		<link rel="manifest" href="/manifest.json" />
		<meta name="theme-color" content="#667eea" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="default" />
		<meta name="apple-mobile-web-app-title" content="NexusFaith" />
		
		<!-- SEO and Social -->
		<title>NexusFaith - Discover the Divine Code | Where Science Illuminates Scripture</title>
		<meta name="description" content="Educated faith for science-minded believers. Get evidence-based answers to tough questions about faith, science, and Christianity.">
		
		<!-- Enhanced SEO -->
		<meta property="og:title" content="NexusFaith - Where Science Illuminates Scripture" />
		<meta property="og:description" content="Educated faith for science-minded believers. Get evidence-based answers to tough questions." />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://nexusfaith.com" />
		<meta property="og:image" content="https://nexusfaith.com/og-image.png" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content="NexusFaith - Where Science Illuminates Scripture" />
		<meta name="twitter:description" content="Educated faith for science-minded believers." />
		
		<!-- Structured Data -->
		<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "Organization",
			"name": "NexusFaith",
			"description": "Where Science Illuminates Scripture - Educated faith for science-minded believers",
			"url": "https://nexusfaith.com",
			"sameAs": ["https://youtube.com/@nexusfaith"],
			"founder": {
				"@type": "Person",
				"name": "John Nguyen"
			},
			"mainEntity": {
				"@type": "WebSite",
				"name": "NexusFaith",
				"url": "https://nexusfaith.com",
				"potentialAction": {
					"@type": "SearchAction",
					"target": "https://nexusfaith.com/search?q={search_term_string}",
					"query-input": "required name=search_term_string"
				}
			}
		}
		</script>
		<style>
			/* ‚ú® PHASE 3: Enhanced Design System for Science-Minded Believers */
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			
			body {
				font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'SF Pro Display', sans-serif;
				line-height: 1.7;
				color: #2d3748;
				/* Scientific gradient inspired by cosmic background radiation */
				background: linear-gradient(135deg, #1a365d 0%, #2c5282 25%, #3182ce 50%, #4299e1 75%, #63b3ed 100%);
				min-height: 100vh;
				/* Subtle animation for dynamic feel */
				animation: cosmicShift 20s ease-in-out infinite;
			}
			
			@keyframes cosmicShift {
				0%, 100% { background-position: 0% 50%; }
				50% { background-position: 100% 50%; }
			}
			
			/* Academic Typography Hierarchy */
			h1, h2, h3, h4 {
				font-family: 'Georgia', 'Times New Roman', serif;
				font-weight: 600;
				letter-spacing: -0.025em;
			}
			
			/* Scientific precision in measurements */
			.golden-ratio {
				/* Based on Phi (1.618) - found throughout creation */
				line-height: 1.618;
			}
			
			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 0 20px;
			}
			
			header {
				background: rgba(255, 255, 255, 0.97);
				backdrop-filter: blur(15px) saturate(180%);
				/* Academic paper shadow */
				box-shadow: 0 1px 3px rgba(0,0,0,0.05), 0 8px 32px rgba(0,0,0,0.08);
				position: sticky;
				top: 0;
				z-index: 100;
				border-bottom: 1px solid rgba(0,0,0,0.06);
				/* Smooth transitions for interactions */
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			}
			
			nav {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 1rem 0;
			}
			
			.logo {
				font-size: 1.5rem;
				font-weight: 700;
				color: #2d3748;
				text-decoration: none;
				display: flex;
				align-items: center;
				gap: 0.5rem;
				position: relative;
			}
			
			.logo::before {
				content: "‚úùÔ∏è";
				font-size: 1.2rem;
			}
			
			.logo::after {
				content: "üî¨";
				font-size: 1rem;
				opacity: 0.8;
			}
			
			/* Academic credibility badge */
			.credibility-badge {
				background: linear-gradient(45deg, #48bb78, #38a169);
				color: white;
				font-size: 0.75rem;
				padding: 0.2rem 0.5rem;
				border-radius: 12px;
				font-weight: 600;
				margin-left: 0.5rem;
				animation: pulse 2s infinite;
			}
			
			@keyframes pulse {
				0%, 100% { opacity: 1; }
				50% { opacity: 0.8; }
			}
			
			.nav-links {
				display: flex;
				list-style: none;
				gap: 1.5rem;
			}
			
			.nav-links a {
				color: #4a5568;
				text-decoration: none;
				font-weight: 500;
				/* Touch-optimized targets (44px minimum) */
				padding: 0.75rem 1rem;
				border-radius: 8px;
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
				position: relative;
				/* Academic underline effect */
				border-bottom: 2px solid transparent;
			}
			
			.nav-links a:hover, .nav-links a:focus {
				color: #3182ce;
				background: rgba(49, 130, 206, 0.08);
				border-bottom-color: #3182ce;
				transform: translateY(-1px);
			}
			
			/* Mobile-first responsive navigation */
			@media (max-width: 768px) {
				.nav-links {
					display: none;
				}
				
				nav {
					flex-direction: column;
					gap: 1rem;
				}
				
				.mobile-nav-toggle {
					display: block;
					background: none;
					border: none;
					font-size: 1.5rem;
					cursor: pointer;
				}
			}
			
			.hero {
				text-align: center;
				padding: 6rem 0;
				color: white;
				position: relative;
				overflow: hidden;
			}
			
			/* Scientific background elements */
			.hero::before {
				content: "";
				position: absolute;
				top: -50%;
				left: -50%;
				width: 200%;
				height: 200%;
				background-image: 
					radial-gradient(circle at 20% 30%, rgba(255,255,255,0.1) 1px, transparent 1px),
					radial-gradient(circle at 80% 70%, rgba(255,255,255,0.05) 1px, transparent 1px);
				background-size: 50px 50px, 80px 80px;
				animation: starField 60s linear infinite;
				z-index: -1;
			}
			
			@keyframes starField {
				0% { transform: rotate(0deg) scale(1); }
				100% { transform: rotate(360deg) scale(1.1); }
			}
			
			.hero h1 {
				font-size: clamp(2rem, 6vw, 4rem);
				font-weight: 600;
				margin-bottom: 1.5rem;
				text-shadow: 0 2px 8px rgba(0,0,0,0.3);
				/* Academic serif for titles */
				font-family: 'Georgia', 'Times New Roman', serif;
				letter-spacing: -0.02em;
				line-height: 1.2;
			}
			
			.hero-subtitle {
				font-size: clamp(1.1rem, 3vw, 1.4rem);
				margin-bottom: 1rem;
				opacity: 0.95;
				font-weight: 400;
			}
			
			.hero p {
				font-size: clamp(1rem, 2.5vw, 1.2rem);
				margin-bottom: 2.5rem;
				opacity: 0.9;
				max-width: 600px;
				margin-left: auto;
				margin-right: auto;
				line-height: 1.6;
			}
			
			/* Evidence-based tagline */
			.evidence-badge {
				display: inline-block;
				background: rgba(255,255,255,0.2);
				padding: 0.5rem 1rem;
				border-radius: 25px;
				font-size: 0.9rem;
				margin-bottom: 2rem;
				border: 1px solid rgba(255,255,255,0.3);
				backdrop-filter: blur(10px);
			}
			
			.cta-button {
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
				background: #ffffff;
				color: #2d3748;
				padding: 1rem 2.5rem;
				border-radius: 50px;
				text-decoration: none;
				font-weight: 600;
				font-size: 1.1rem;
				/* Touch-optimized minimum size */
				min-height: 44px;
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
				box-shadow: 
					0 4px 15px rgba(0,0,0,0.15),
					0 2px 4px rgba(0,0,0,0.1);
				position: relative;
				overflow: hidden;
			}
			
			.cta-button::before {
				content: "";
				position: absolute;
				top: 0;
				left: -100%;
				width: 100%;
				height: 100%;
				background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
				transition: left 0.6s;
			}
			
			.cta-button:hover {
				transform: translateY(-3px) scale(1.02);
				box-shadow: 
					0 8px 25px rgba(0,0,0,0.2),
					0 4px 8px rgba(0,0,0,0.15);
				color: #1a365d;
			}
			
			.cta-button:hover::before {
				left: 100%;
			}
			
			.cta-button:focus {
				outline: 2px solid #3182ce;
				outline-offset: 2px;
			}
			
			/* Mobile optimization */
			@media (max-width: 768px) {
				.cta-button {
					padding: 1rem 2rem;
					font-size: 1rem;
				}
			}
			
			.pillars {
				background: white;
				padding: 4rem 0;
			}
			
			.pillars-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 2rem;
			}
			
			.pillar-card {
				text-align: center;
				padding: 2.5rem;
				border-radius: 15px;
				background: linear-gradient(145deg, #ffffff 0%, #f7fafc 100%);
				border: 1px solid rgba(102, 126, 234, 0.1);
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				position: relative;
				box-shadow: 
					0 4px 12px rgba(0,0,0,0.05),
					0 2px 4px rgba(0,0,0,0.05);
			}
			
			.pillar-card::before {
				content: "";
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				height: 3px;
				background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
				border-radius: 15px 15px 0 0;
				opacity: 0;
				transition: opacity 0.3s;
			}
			
			.pillar-card:hover {
				transform: translateY(-8px) scale(1.02);
				box-shadow: 
					0 12px 24px rgba(0,0,0,0.1),
					0 6px 12px rgba(0,0,0,0.08);
			}
			
			.pillar-card:hover::before {
				opacity: 1;
			}
			
			.pillar-icon {
				font-size: 3rem;
				margin-bottom: 1rem;
			}
			
			.answer-engine {
				background: #f7fafc;
				padding: 4rem 0;
			}
			
			.answer-preview {
				background: white;
				border-radius: 15px;
				padding: 2rem;
				box-shadow: 0 4px 15px rgba(0,0,0,0.1);
			}
			
			.questions-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
				gap: 1.5rem;
				margin-top: 2rem;
			}
			
			/* Mobile-first optimization */
			@media (max-width: 768px) {
				.questions-grid {
					grid-template-columns: 1fr;
					gap: 1rem;
				}
			}
			
			.question-card {
				background: #ffffff;
				padding: 1.75rem;
				border-radius: 12px;
				border-left: 4px solid #3182ce;
				transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
				box-shadow: 
					0 2px 8px rgba(0,0,0,0.06),
					0 1px 3px rgba(0,0,0,0.08);
				cursor: pointer;
				position: relative;
			}
			
			.question-card::after {
				content: "‚Üí";
				position: absolute;
				top: 1rem;
				right: 1rem;
				color: #3182ce;
				opacity: 0;
				transition: all 0.3s;
				font-weight: bold;
			}
			
			.question-card:hover {
				transform: translateY(-4px);
				box-shadow: 
					0 8px 20px rgba(0,0,0,0.12),
					0 4px 8px rgba(0,0,0,0.1);
				border-left-color: #2c5282;
			}
			
			.question-card:hover::after {
				opacity: 1;
				transform: translateX(4px);
			}
			
			.question-title {
				color: #2d3748;
				margin-bottom: 0.5rem;
				font-weight: 600;
			}
			
			.question-meta {
				display: flex;
				justify-content: space-between;
				font-size: 0.9rem;
				color: #718096;
			}
			
			.difficulty-badge {
				padding: 0.2rem 0.5rem;
				border-radius: 15px;
				font-size: 0.8rem;
				font-weight: 500;
			}
			
			.difficulty-teen {
				background: #fef5e7;
				color: #d69e2e;
			}
			
			footer {
				background: #2d3748;
				color: white;
				padding: 2rem 0;
				text-align: center;
			}
			
			@media (max-width: 768px) {
				.hero h1 {
					font-size: 2rem;
				}
				
				.nav-links {
					display: none;
				}
				
				.pillars-grid {
					grid-template-columns: 1fr;
				}
			}
		</style>
	</head>
	<body>
		<header>
			<nav class="container">
				<a href="/" class="logo">
					NexusFaith
					<span class="credibility-badge">Evidence-Based</span>
				</a>
				<ul class="nav-links">
					<li><a href="/">Home</a></li>
					<li><a href="/faith-answers">Q&A Engine</a></li>
					<li><a href="/faq">Research</a></li>
					<li><a href="/about">Scholars</a></li>
				</ul>
			</nav>
		</header>

		<main>
			<section class="hero">
				<div class="container">
					<div class="evidence-badge">üî¨ Research-Backed ‚Ä¢ üìö Scholar-Reviewed ‚Ä¢ ‚öóÔ∏è Peer-Validated</div>
					<h1>Discover the Divine Code</h1>
					<p class="hero-subtitle">Where Science Illuminates Scripture</p>
					<p>Explore the mathematical precision of universal constants, the information complexity of DNA, and the fine-tuning of physical laws that point to intelligent design.</p>
					
					<!-- Featured Video Section -->
					<div style="margin: 2rem 0;">
						<div style="max-width: 600px; margin: 0 auto; border-radius: 15px; overflow: hidden; box-shadow: 0 8px 25px rgba(0,0,0,0.2);">
							<iframe 
								width="100%" 
								height="338" 
								src="https://www.youtube.com/embed/_CcjoOpHU6U" 
								title="Can Science and Faith Work Together?" 
								frameborder="0" 
								allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
								allowfullscreen
								style="display: block;">
							</iframe>
						</div>
					</div>
					
					<a href="/faith-answers" class="cta-button" aria-label="Access our evidence-based Answer Engine">
						üß† Get Answers Now ‚Üí
					</a>
				</div>
			</section>

			<!-- Mission Statement Section -->
			<section style="padding: 3rem 0; background: rgba(255,255,255,0.95); border-bottom: 1px solid rgba(102, 126, 234, 0.1);">
				<div class="container">
					<div style="max-width: 800px; margin: 0 auto; text-align: center;">
						<h2 style="font-size: 2rem; font-weight: 700; margin-bottom: 1.5rem; color: #2d3748;">Our Mission</h2>
						<p style="font-size: 1.2rem; line-height: 1.7; color: #4a5568; margin-bottom: 2rem;">
							NexusFaith <strong style="color: #667eea;">bridges the gap between modern science and timeless faith</strong> ‚Äî providing insights, answers, and inspiring stories that show how scientific discovery and biblical truth complement each other.
						</p>
						<div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; font-size: 0.9rem; font-weight: 600;">
							<div style="display: flex; align-items: center; gap: 0.5rem;">
								<div style="width: 8px; height: 8px; border-radius: 50%; background: #667eea;"></div>
								<span>Evidence-Based</span>
							</div>
							<div style="display: flex; align-items: center; gap: 0.5rem;">
								<div style="width: 8px; height: 8px; border-radius: 50%; background: #667eea;"></div>
								<span>Intellectually Honest</span>
							</div>
							<div style="display: flex; align-items: center; gap: 0.5rem;">
								<div style="width: 8px; height: 8px; border-radius: 50%; background: #667eea;"></div>
								<span>Welcoming Questions</span>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="pillars">
				<div class="container">
					<h2 style="text-align: center; margin-bottom: 3rem; font-size: 2rem; color: #2d3748;">
						Three Pillars of Faith + Science
					</h2>
					<div class="pillars-grid">
						<a href="/cosmology" style="text-decoration: none; color: inherit;">
							<div class="pillar-card">
								<div class="pillar-icon">‚öõÔ∏è</div>
								<h3>Cosmological Constants</h3>
								<p>Mathematical precision: fine-tuning parameters within 1:10^60 accuracy ‚Äî statistical evidence for intelligent design</p>
								<div style="font-size: 0.8rem; color: #667eea; margin-top: 1rem; font-weight: 600;">
									üìä Data: Hugh Ross, William Lane Craig
								</div>
							</div>
						</a>
						<a href="/biology" style="text-decoration: none; color: inherit;">
							<div class="pillar-card">
								<div class="pillar-icon">üß¨</div>
								<h3>Information Theory</h3>
								<p>DNA contains 3.2 billion base pairs of coded information ‚Äî exponentially more complex than any human software</p>
								<div style="font-size: 0.8rem; color: #667eea; margin-top: 1rem; font-weight: 600;">
									üìä Data: Stephen Meyer, Douglas Axe
								</div>
							</div>
						</a>
						<div class="pillar-card">
							<div class="pillar-icon">üß†</div>
							<h3>Consciousness Studies</h3>
							<p>The "hard problem" of consciousness: subjective experience cannot emerge from purely material processes</p>
							<div style="font-size: 0.8rem; color: #667eea; margin-top: 1rem; font-weight: 600;">
								üìä Research: David Chalmers, John Eccles
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="answer-engine">
				<div class="container">
					<div class="answer-preview">
						<h2 style="text-align: center; margin-bottom: 1rem; font-size: 2rem; color: #2d3748;">
							Answer Engine: Educated Faith Responses
						</h2>
						<p style="text-align: center; color: #718096; margin-bottom: 2rem;">
							No more "just have faith" answers. Get evidence-based responses with scholarly citations.
						</p>
						
						<div class="questions-grid">
							{featuredQuestions.map((question) => (
								<div class="question-card">
									<h4 class="question-title">{question.data.title || question.slug}</h4>
									<div class="question-meta">
										<span style="text-transform: capitalize;">{question.data.category}</span>
										<span class={`difficulty-badge difficulty-${question.data.difficulty}`}>
											{question.data.difficulty}
										</span>
									</div>
								</div>
							))}
						</div>
						
						<div style="text-align: center; margin-top: 2rem;">
							<a href="/faith-answers" class="cta-button">Try the Answer Engine ‚Üí</a>
						</div>
					</div>
				</div>
			</section>
		</main>

		<footer>
			<div class="container">
				<p>&copy; 2026 NexusFaith. Educated faith, not blind faith. ‚úùÔ∏èüî¨</p>
			</div>
		</footer>

		<!-- Enhanced Performance & Accessibility -->
		<PerformanceMonitor />
		<AccessibilityEnhancements />
		
		<!-- Service Worker Registration -->
		<script>
			if ('serviceWorker' in navigator) {
				window.addEventListener('load', () => {
					navigator.serviceWorker.register('/sw.js')
						.then(registration => {
							console.log('Service Worker registered successfully');
						})
						.catch(error => {
							console.log('Service Worker registration failed:', error);
						});
				});
			}
		</script>
	</body>
</html>